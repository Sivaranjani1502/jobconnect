<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobConnect - Your Career Portal</title>
    <link rel="stylesheet" th:href="@{/home.css}">
</head>
<body>
<div class="app-container">
    <!-- Header -->
    <header class="header" id="header">
        <div class="logo-section">
            <svg class="logo" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="40" height="40" rx="8" fill="currentColor"/>
                <path d="M12 28V16M12 16C12 13.7909 13.7909 12 16 12H24C26.2091 12 28 13.7909 28 16V20C28 22.2091 26.2091 24 24 24H16M12 16H16"
                      stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div class="brand-text">
                <h1 id="site-title">JobConnect</h1>
                <p id="tagline">Connect with your dream job</p>
            </div>
        </div>

        <div class="nav-buttons">
            <button class="btn btn-outline" id="header-login-btn">Log In</button>
            <button class="btn btn-solid" id="header-signup-btn">Sign Up</button>
        </div>
    </header>
	<!-- STATUS / ERROR MESSAGES -->
	<div th:if="${param.error}" style="margin: 1rem; padding: 0.75rem 1rem; border-radius: 8px; background: #fee2e2; color: #991b1b;">
	    Invalid email or password.
	</div>

	<div th:if="${param.logout}" style="margin: 1rem; padding: 0.75rem 1rem; border-radius: 8px; background: #d1fae5; color: #065f46;">
	    You have been logged out.
	</div>

	<div th:if="${successMessage}" style="margin: 1rem; padding: 0.75rem 1rem; border-radius: 8px; background: #d1fae5; color: #065f46;"
	     th:text="${successMessage}">
	</div>

	<div th:if="${errorMessage}" style="margin: 1rem; padding: 0.75rem 1rem; border-radius: 8px; background: #fee2e2; color: #991b1b;"
	     th:text="${errorMessage}">
	</div>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-content">
            <h2 id="hero-title">Find Your Dream Job Today</h2>
            <p id="hero-subtitle">
                Connect with top employers and discover opportunities that match your skills and aspirations
            </p>
            <div class="hero-buttons">
                <button class="btn btn-outline btn-large" id="hero-login-btn">Log In</button>
                <button class="btn btn-solid btn-large" id="hero-signup-btn">Sign Up</button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="features-container">
            <h2 class="section-title">Why Choose JobConnect?</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <svg class="feature-icon" viewBox="0 0 64 64" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <circle cx="32" cy="32" r="30" fill="currentColor" opacity="0.1"/>
                        <path d="M32 16V32L40 40" stroke="currentColor" stroke-width="3"
                              stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <h3>Quick Applications</h3>
                    <p>Apply to multiple jobs with a single click. Save time and increase your chances of landing
                        your dream role.</p>
                </div>

                <div class="feature-card">
                    <svg class="feature-icon" viewBox="0 0 64 64" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <circle cx="32" cy="32" r="30" fill="currentColor" opacity="0.1"/>
                        <path d="M32 20C26.4772 20 22 24.4772 22 30C22 35.5228 26.4772 40 32 40C37.5228 40 42 35.5228 42 30C42 24.4772 37.5228 20 32 20Z"
                              stroke="currentColor" stroke-width="3"/>
                        <path d="M32 26V30L35 33" stroke="currentColor" stroke-width="3"
                              stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <h3>Smart Matching</h3>
                    <p>Our algorithm connects you with opportunities that perfectly match your skills and
                        experience.</p>
                </div>

                <div class="feature-card">
                    <svg class="feature-icon" viewBox="0 0 64 64" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <circle cx="32" cy="32" r="30" fill="currentColor" opacity="0.1"/>
                        <path d="M42 28L34 36L28 30" stroke="currentColor" stroke-width="3"
                              stroke-linecap="round" stroke-linejoin="round"/>
                        <rect x="20" y="20" width="24" height="24" rx="2"
                              stroke="currentColor" stroke-width="3"/>
                    </svg>
                    <h3>Verified Employers</h3>
                    <p>All employers are verified to ensure you're connecting with legitimate, quality
                        companies.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Â© 2024 JobConnect. Connecting talent with opportunity.</p>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <button class="modal-close" data-close="login-modal">Ã—</button>
            <h2>Welcome Back</h2>
            <div class="success-message" id="login-success"
                 th:if="${param.error}" style="display:block;">
                Invalid email or password.
            </div>
            <form th:action="@{/login}" method="post" id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <!-- Spring Security expects 'username' param -->
                    <input type="email" id="login-email" name="username" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <button type="submit" class="submit-btn">Log In</button>
            </form>
        </div>
    </div>

	<!-- Signup Modal -->
	<div class="modal" id="signup-modal">
	    <div class="modal-content">
	        <button class="modal-close" data-close="signup-modal">Ã—</button>
	        <h2>Join JobConnect</h2>
	        <div class="success-message" id="signup-success"
	             th:if="${param.registered}" style="display:block;">
	            âœ“ Account created successfully! You can now log in.
	        </div>
	        <form th:action="@{/register}" method="post" id="signup-form">
	            <div class="form-group">
	                <label for="signup-role">I am a</label>
	                <select id="signup-role" name="role" required>
	                    <option value="">Select your role</option>
	                    <option value="JOB_SEEKER">Job Seeker</option>
	                    <option value="EMPLOYER">Employer</option>
	                </select>
	            </div>
	            <div class="form-group">
	                <label for="signup-name">Full Name</label>
	                <input type="text" id="signup-name" name="fullName" required>
	            </div>

	            <!-- ðŸ“± Phone Number -->
	            <div class="form-group">
	                <label for="signup-phone">Phone Number</label>
	                <!-- ðŸ‘‡ ONLY change: use plain name, no th:field -->
	                <input type="text" id="signup-phone" name="phoneNumber" required>
	            </div>

	            <div class="form-group">
	                <label for="signup-email">Email</label>
	                <input type="email" id="signup-email" name="email" required>
	            </div>
	            <div class="form-group">
	                <label for="signup-password">Password</label>
	                <input type="password" id="signup-password" name="password" required>
	            </div>
	            <button type="submit" class="submit-btn">Sign Up</button>
	        </form>
	    </div>
	</div>
</div>

<script>
    // --- Modal handling (same look & behaviour, no fake JS SDK) ---
    function openModal(id) {
        document.getElementById(id).classList.add('active');
    }

    function closeModal(id) {
        document.getElementById(id).classList.remove('active');
    }

    document.getElementById('hero-login-btn').addEventListener('click', () => openModal('login-modal'));
    document.getElementById('hero-signup-btn').addEventListener('click', () => openModal('signup-modal'));
    document.getElementById('header-login-btn').addEventListener('click', () => openModal('login-modal'));
    document.getElementById('header-signup-btn').addEventListener('click', () => openModal('signup-modal'));

    document.querySelectorAll('.modal-close').forEach(btn => {
        btn.addEventListener('click', () => {
            const target = btn.getAttribute('data-close');
            closeModal(target);
        });
    });

    document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', e => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });
    });
</script>
</body>
</html>
